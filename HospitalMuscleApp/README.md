# 病院用筋肉セグメンテーションソフトウェア ver1

## 概要
AIによる自動アノテーションで筋肉の面積及び体積を算出するソフトウェアです。
病院内PCでのオフライン使用を想定しています（インターネット接続不要）。

## 機能
- **AI自動アノテーション**: nnU-Netを使用した筋肉セグメンテーション
- **面積・体積算出**: 各筋肉の面積（mm²）と体積（mm³）を自動計算
- **DICOM入力対応**: 院内サーバーからのDICOMファイル（フォルダ選択/自動読み込み）
- **品質管理ワークフロー**: 
  - 正しいアノテーション → 結果を保存
  - 修正が必要 → レビュー待ちリストへ追加

## フォルダ構造
```
HospitalMuscleApp/
├── gui/                    # GUIモジュール
│   └── MuscleGUI.py        # メインGUI
├── output/
│   ├── json/               # アノテーション結果（JSON）
│   └── csv/                # 筋肉測定値（CSV）
├── manual_review/          # 手動レビュー待ちデータ
├── config/                 # 設定ファイル
│   └── settings.json
└── logs/                   # ログファイル
```

## 出力形式

### JSON（アノテーション結果）
- 各患者・検査ごとに保存
- セグメンテーションマスク情報を含む

### CSV（測定値）
- 1つのファイルに継続的に追記
- 列: 患者ID, 検査日時, 筋肉名, 左右, 面積(mm²), 体積(mm³)

## TODO（今後の開発）
- [ ] DICOM読み込み機能の実装
- [ ] アノテーション承認/拒否UIの追加
- [ ] CSV自動エクスポート機能
- [ ] MRIからの自動転送対応
